<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <!-- bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous">
    </script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous">
    </script>
    <link href="https://www.jqueryscript.net/css/jquerysctipttop.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- vue&jquery -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <!-- jquery UI -->
    <link rel="stylesheet" href="//apps.bdimg.com/libs/jqueryui/1.10.4/css/jquery-ui.min.css">
    <script src="//apps.bdimg.com/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="//apps.bdimg.com/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>
    <script type="text/javascript" src="/javascripts/article/simple-rating.js"></script>
    <!-- my-JS&CSS -->
    <link rel="stylesheet" href="/stylesheets/article/index.css" defer>
    <!-- <script type="text/javascript" src="/javascripts/indexJS.js" defer></script> -->
    <link rel="stylesheet" href="/stylesheets/navbar.css">
    <!-- 引入icon圖示的CDN -->
    <link href="https://file.myfontastic.com/qkBCMrD45o6CZLseFZhWN8/icons.css" rel="stylesheet">
    <link rel="stylesheet" href="/stylesheets/footer.css">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <link rel="stylesheet" href="/stylesheets/loginPage.css">
    <!-- origin index js & css-->
    <script src="/javascripts/member/jquery-ui.js" defer></script>
    <script src="/javascripts/member/memberOrdersPage.js" defer></script>
    <script src="/javascripts/member/login.js" defer></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <link rel="stylesheet" href="//apps.bdimg.com/libs/jqueryui/1.10.4/css/jquery-ui.min.css">
    <link href="https://www.jqueryscript.net/css/jquerysctipttop.css" rel="stylesheet" type="text/css">
    <style>
        #dialog {
            text-align: center;
        }
        /* 修改dialog header 顏色 */
        
        .ui-widget-header {
            border: 1px solid #aaaaaa;
            background: #f25041 url("") 50% 50% repeat-x;
            color: white;
            font-weight: bold;
        }
    </style>
</head>

<body>
    <!-- navbar -->
    <%- include('../navbar2.ejs') %>
        <div class="container loginBody">
            <div class="row justify-content-center">
                <div class="col-12">
                    <video width="100%" autoplay class="indexVideo" muted="true" loop="true">
                    <source src="/images/video4.mp4" type="video/mp4">
                    <source src="movie.ogg" type="video/ogg">
                </video>
                    <div class="login">
                        <div class="container">
                            <div class="text-center my-4 butT">
                                <button class="btn butStyle" onclick="loginTitle()">註冊新帳號</button>
                            </div>
                            <div class="row justify-content-center ">
                                <div class="col-7 inputText px-3">
                                    <h1 class="text-center loginTitle mt-4">Login</h1>

                                    <div class="spline text-center my-3"></div>

                                    <div class="form-group text-center">
                                        <label for="userNameLogin">帳號：</label>
                                        <input class="form-control text-center" placeholder="請輸入信箱帳號" type="email" id="userNameLogin" name="userNameLogin">
                                    </div>
                                    <div class="form-group text-center">
                                        <label for="userNameLoginPwd">密碼：</label>
                                        <input class="form-control text-center" placeholder="請輸入登入密碼" type="password" id="userNameLoginPwd" name="userNameLoginPwd">
                                    </div>
                                    <div class="text-center my-5">
                                        <button class="btn btnLogin" onclick="login()">登入</button>
                                        <button class="btn btnLogin" onclick="dialog()">忘記密碼</button>
                                    </div>
                                </div>
                                <!-- 忘記密碼dialog -->
                                <div id="dialog" title="忘記密碼" style="display: none;">
                                    <div class="mry-25">
                                        <p>請輸入E-mail</p>
                                        <input type="text" id="pwdSend" name="pwdSend">
                                    </div>
                                </div>
                                <div class="dataBasic text-center my-2">基本資料</div>
                            </div>
                        </div>
                    </div>

                    <div class="register" style="display: none;">
                        <div class="container">
                            <div class="text-center my-4 butT">
                                <button class="btn butStyle" onclick="registerTitle()">切換登入</button>
                            </div>
                            <div class="row justify-content-center ">
                                <div class="col-7 registerText px-4">
                                    <h1 class="text-center loginTitle mt-4">Register</h1>
                                    <div class="spline text-center my-3"></div>
                                    <div class="form-group text-center">
                                        <label for="userNameSignin">帳號：</label>
                                        <input class="form-control text-center" placeholder="請輸入信箱帳號" type="email" id="userNameSignin" name="userNameSignin">
                                    </div>
                                    <div class="form-group text-center">
                                        <label for="userNameSignPwd">密碼：</label>
                                        <input class="form-control text-center" placeholder="請輸入註冊密碼" type="password" id="userNameSignPwd" name="userNameSignPwd">
                                    </div>
                                    <div class="form-group text-center">
                                        <label for="userNickNameSign">暱稱：</label>
                                        <input class="form-control text-center" placeholder="請輸入暱稱" type="text" id="userNickNameSign" name="userNickNameSign">
                                    </div>
                                    <div class="text-center my-4">
                                        <button class="btn btnRegister" onclick="register()">註冊</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                </div>
            </div>
        </div>
        <script>
            function registerTitle() {
                document.getElementsByClassName('register')[0].style.display = 'none';
                document.getElementsByClassName('login')[0].style.display = 'block'
                    // console.log(document.getElementsByClassName('register'))
            }

            function loginTitle() {
                document.getElementsByClassName('register')[0].style.display = 'block';
                document.getElementsByClassName('login')[0].style.display = 'none'
                    // console.log(document.getElementsByClassName('register'))
            }
            // 忘記密碼dialog
            function dialog() {

                $("#dialog").dialog({
                    width: 300,
                    height: 220,
                    modal: true,
                    buttons: {
                        "OK": function() {
                            let emailSend = $("#pwdSend").val();
                            // console.log(emailSend);
                            axios.get('/member/pwdSend/' + emailSend).then(res => {
                                if (res.data.status == 1) {

                                    swal("提示", "密碼信件已寄出", "info")

                                } else {

                                    swal("提示", "查無此帳號資料", "warning")
                                }
                            })
                            $(this).dialog("close")
                        },
                        "Cancel": function() {
                            $(this).dialog("close")
                        }
                    }
                })
               
                $(".ui-button").addClass("btn").css("width", "60").css("height", "30")
            }
        </script>

</body>

</html>